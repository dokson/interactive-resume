function orientationChangeHandler(e){disableScrollOrSwipe(),setTimeout(function(){$(window).trigger("resize")},500)}function enableScrollOrSwipe(){canScrollOrSwipe=!0}function disableScrollOrSwipe(){canScrollOrSwipe=!1}function initTouchEvents(){document.addEventListener("touchstart",handleStart,!1),document.addEventListener("touchmove",handleMove,!1),document.addEventListener("touchend",handleEnd,!1)}function handleStart(e){touchStartX=e.targetTouches[0].pageX,pageVerticalPositionOnTouch=pageVerticalPosition}function handleMove(e){e.preventDefault(),touchCurrentX=e.targetTouches[0].pageX,canScrollOrSwipe&&(detectPageVerticalPosition(),runTheseFunctionsAfterScrollOrSwipe())}function handleEnd(e){e.preventDefault(),touchEndX=e.changedTouches[0].pageX}function runTheseFunctionsAfterScrollOrSwipe(){orientAle(),checkAleJumpFallSwim(),moveLayers(),shiftUpDownHorizontalLayers(),animateInformationAndEnemiesElements(),animateAleRunSwim(),hideScrollOrSwipeTextContainer(),hideContactConfirmationContainer(),deviceFunctionScrollSwipe()}function deviceFunctionScrollSwipe(){"computer"!==deviceName&&"vertical"===layersMovement&&positionHorizontalLayersToHaveSameRightPosition()}function showContainer(){containerDiv.setAttribute("class","")}function shiftUpHorizontalLayersAfterEverythingLoaded(){for(var e=0;e<layerHorizontalArray.length;e++)$(layerHorizontalArray[e]).stop().animate({top:"0px"},1e3,function(){finishShiftUpHorizontalLayersAfterEverythingLoaded()})}function finishShiftUpHorizontalLayersAfterEverythingLoaded(){canFinishShiftUpHorizontalLayersAfterEverythingLoaded&&(isPreloadShiftUpAnimationFinish=!(canFinishShiftUpHorizontalLayersAfterEverythingLoaded=!1),makePageScrollable(),shiftDownAleContainer(),animateScrollOrSwipeTextContainer())}function shiftDownAleContainer(){setAleJumpDownAndFallFrame(),$(aleContainerDiv).stop().animate({bottom:"20%"},500,function(){setAleStaticFrame(),enableAnimateAleRunSwim()}),"internet explorer"===browserName&&browserVersion<=8&&enableAnimateAleRunSwim()}function makePageScrollable(){contentDiv.setAttribute("class",""),enableScrollOrSwipe()}function setFrontLayerVerticalHeight(){layerVerticalArray[layerVerticalArray.length-1].style.height=2*containerDiv.offsetHeight+bannersContainerDiv.offsetHeight+gapBetweenContactCloudAndBannersContainer+"px"}function setBannersContainerVerticalPosition(){bannersContainerDiv.style.bottom=containerDiv.offsetHeight+"px"}function setPageHeight(){pageDiv.style.height=layerHorizontalArray[layerHorizontalArray.length-1].offsetWidth-containerDiv.offsetWidth+layerVerticalArray[layerVerticalArray.length-1].offsetHeight+distanceBetweenAleAndRocket+"px"}function setLayerSpeed(){for(;0<layerHorizontalSpeedArray.length;)layerHorizontalSpeedArray.pop();for(;0<layerVerticalSpeedArray.length;)layerVerticalSpeedArray.pop();for(var e=0;e<layerHorizontalArray.length;e++){var t=(layerHorizontalArray[e].offsetWidth-containerDiv.offsetWidth)/(layerHorizontalArray[layerHorizontalArray.length-1].offsetWidth-containerDiv.offsetWidth);layerHorizontalSpeedArray.push(t)}for(e=0;e<layerVerticalArray.length;e++){var o=(layerVerticalArray[e].offsetHeight-containerDiv.offsetHeight)/(layerVerticalArray[layerVerticalArray.length-1].offsetHeight-containerDiv.offsetHeight);layerVerticalSpeedArray.push(o)}}function detectPageVerticalPosition(){previousPageVerticalPosition=pageVerticalPosition,"computer"===deviceName?pageVerticalPosition="internet explorer"===browserName?document.documentElement.scrollTop:pageYOffset:(pageVerticalPosition=(pageVerticalPosition=pageVerticalPositionOnTouch+(touchStartX-touchCurrentX))<0?0:pageVerticalPosition)>pageDiv.offsetHeight-containerDiv.offsetHeight&&(pageVerticalPosition=pageDiv.offsetHeight-containerDiv.offsetHeight),deltaPageVerticalPosition=pageVerticalPosition-previousPageVerticalPosition,pageVerticalPosition<=0&&(resetVariables(),resetFunctions())}function moveLayers(){if(setLayersMovement(),"horizontal"===layersMovement){for(let e=0;e<layerHorizontalArray.length;e++){var t=-1*layerHorizontalSpeedArray[e]*pageVerticalPosition;layerHorizontalArray[e].style.left=t+"px"}positionLayerHorizontalToBottom(),clearHappyAleTimer(),positionVerticalLayersHorizontally()}if("vertical"===layersMovement){var e=layerHorizontalArray[layerHorizontalArray.length-1],o=pageVerticalPosition-(e.offsetWidth-containerDiv.offsetWidth);for(let e=0;e<layerVerticalArray.length;e++){var i=-1*layerVerticalSpeedArray[e]*o;layerVerticalArray[e].style.bottom=i+"px"}positionVerticalLayersAtLeftMost(),positionHorizontalLayersToHaveSameRightPosition(),positionHorizontalLayersVertically(),clearShiftAleFrameTimer(),clearHappyAleTimer()}"not moving 1"===layersMovement&&(positionVerticalLayersAtLeftMost(),positionVerticalLayersToHaveSameTopPosition(),positionHorizontalLayersAtBottomMost(),positionHorizontalLayersToHaveSameRightPosition(),clearHappyAleTimer()),"not moving 2"===layersMovement&&(positionVerticalLayersAtLeftMost(),positionVerticalLayersToHaveSameTopPosition(),positionHorizontalLayersAtBottomMost(),positionHorizontalLayersToHaveSameRightPosition(),animateSocialContainer(),happyAle(),drawManyFireworks()),positionRocketAndAleContainerHorizontally(),positionContactContainer(),positionFireworksContainer()}function setLayersMovement(){layersMovement=pageVerticalPosition*layerHorizontalSpeedArray[layerHorizontalSpeedArray.length-1]<=layerHorizontalArray[layerHorizontalArray.length-1].offsetWidth-containerDiv.offsetWidth?"horizontal":pageVerticalPosition>=pageDiv.offsetHeight-containerDiv.offsetHeight-distanceBetweenAleAndRocket&&pageVerticalPosition<pageDiv.offsetHeight-containerDiv.offsetHeight?"not moving 1":pageVerticalPosition>=pageDiv.offsetHeight-containerDiv.offsetHeight?"not moving 2":"vertical"}function positionVerticalLayersAtLeftMost(){for(var e=0;e<layerVerticalArray.length;e++)layerVerticalArray[e].style.left="0px"}function positionHorizontalLayersToHaveSameRightPosition(){for(var e=0;e<layerHorizontalArray.length;e++)layerHorizontalArray[e].style.left=containerDiv.offsetWidth-layerHorizontalArray[e].offsetWidth+"px"}function positionHorizontalLayersVertically(){for(var e=0;e<layerHorizontalArray.length;e++)layerHorizontalArray[e].style.top=layerVerticalArray[layerVerticalArray.length-1].offsetTop+layerVerticalArray[layerVerticalArray.length-1].offsetHeight-containerDiv.offsetHeight+"px"}function positionHorizontalLayersAtBottomMost(){for(var e=0;e<layerHorizontalArray.length;e++)layerHorizontalArray[e].style.top=layerVerticalArray[layerVerticalArray.length-1].offsetHeight-containerDiv.offsetHeight+"px"}function setAleLeftAndRightEdge(){aleRightEdge=.5*(containerDiv.offsetWidth+aleDiv.offsetWidth)-65,aleLeftEdge=.5*(containerDiv.offsetWidth-aleDiv.offsetWidth)+65}function positionVerticalLayersToHaveSameTopPosition(){for(var e=0;e<layerVerticalArray.length;e++)layerVerticalArray[e].style.bottom=containerDiv.offsetHeight-layerVerticalArray[e].offsetHeight+"px"}function positionVerticalLayersBottomToHorizontalLayersBottom(){for(var e=0;e<layerVerticalArray.length;e++)layerVerticalArray[e].style.bottom=-1*layerHorizontalArray[e].offsetTop+"px"}function shiftUpDownHorizontalLayers(){(previousPageVerticalPosition<sea1Div.offsetLeft-aleLeftEdge||previousPageVerticalPosition>sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge)&&pageVerticalPosition>=sea1Div.offsetLeft-aleLeftEdge&&pageVerticalPosition<=sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge&&(isAleSwimming=!0,shiftUpLayerHorizontal(),shiftAleToSeaFloor(),createBubble());var e=previousPageVerticalPosition>=sea1Div.offsetLeft-aleLeftEdge&&previousPageVerticalPosition<=sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge&&(pageVerticalPosition<sea1Div.offsetLeft-aleLeftEdge||pageVerticalPosition>sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge);e&&(isAleSwimming=!1,shiftDownLayerHorizontal(),shiftAleToGroundLevel(),clearInterval(bubbleTimer),clearInterval(blinkSeaAnimalsTimer))}function shiftUpDownHorizontalLayersOnResize(){pageVerticalPosition>=sea1Div.offsetLeft-aleLeftEdge&&pageVerticalPosition<=sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge&&(clearInterval(shiftUpLayerHorizontalTimer),clearInterval(shiftDownLayerHorizontalTimer),isAleSwimming=!0,positionLayerHorizontalToTop(),positionVerticalLayersBottomToHorizontalLayersBottom(),createBubble());var e=pageVerticalPosition<sea1Div.offsetLeft-aleLeftEdge||pageVerticalPosition>sea1Div.offsetLeft+sea1Div.offsetWidth-aleRightEdge;e&&(clearInterval(shiftUpLayerHorizontalTimer),clearInterval(shiftDownLayerHorizontalTimer),isAleSwimming=!1,("horizontal"===layersMovement?(positionLayerHorizontalToBottom(),positionVerticalLayersBottomToHorizontalLayersBottom):(positionHorizontalLayersAtBottomMost(),positionHorizontalLayersToHaveSameRightPosition))(),clearInterval(bubbleTimer),clearInterval(blinkSeaAnimalsTimer))}function setShiftUpLayerHorizontalDistance(){shiftUpLayerHorizontalDistance=.75*containerDiv.offsetHeight}function shiftUpLayerHorizontal(){setShiftUpLayerHorizontalDistance(),clearShiftUpDownLayerHorizontalTimer(),shiftUpLayerHorizontalTimer=setInterval(function(){moveUpLayerHorizontal()},shiftUpDownLayerHorizontalInterval),disableIsAleJumpingAndFalling()}function moveUpLayerHorizontal(){if("horizontal"===layersMovement){for(var e=0;e<layerHorizontalArray.length;e++){var t=layerHorizontalArray[e].offsetTop-shiftUpDownLayerHorizontalIncrement;t<=-shiftUpLayerHorizontalDistance?(t=-shiftUpLayerHorizontalDistance,layerHorizontalArray[e].style.top=t+"px",clearInterval(shiftUpLayerHorizontalTimer)):layerHorizontalArray[e].style.top=t+"px",aleContainerDiv.offsetTop>sea1Div.offsetTop+layerHorizontalArray[layerHorizontalArray.length-1].offsetTop&&(isAleBelowSeaLevel=!0)}positionVerticalLayersBottomToHorizontalLayersBottom()}else clearInterval(shiftUpLayerHorizontalTimer),positionHorizontalLayersAtBottomMost(),positionHorizontalLayersToHaveSameRightPosition(),isAleBelowSeaLevel=!1}function shiftDownLayerHorizontal(){clearShiftUpDownLayerHorizontalTimer(),shiftDownLayerHorizontalTimer=setInterval(function(){moveDownLayerHorizontal()},shiftUpDownLayerHorizontalInterval)}function moveDownLayerHorizontal(){if("horizontal"===layersMovement){for(var e=0;e<layerHorizontalArray.length;e++){var t=layerHorizontalArray[e].offsetTop+shiftUpDownLayerHorizontalIncrement;0<=t?(t=0,layerHorizontalArray[e].style.top=t+"px",clearInterval(shiftDownLayerHorizontalTimer)):layerHorizontalArray[e].style.top=t+"px",aleContainerDiv.offsetTop<sea1Div.offsetTop+layerHorizontalArray[layerHorizontalArray.length-1].offsetTop&&(isAleBelowSeaLevel=!1)}positionVerticalLayersBottomToHorizontalLayersBottom()}else clearInterval(shiftDownLayerHorizontalTimer),positionHorizontalLayersAtBottomMost(),positionHorizontalLayersToHaveSameRightPosition(),isAleBelowSeaLevel=!1}function clearShiftUpDownLayerHorizontalTimer(){clearInterval(shiftUpLayerHorizontalTimer),clearInterval(shiftDownLayerHorizontalTimer)}function positionVerticalLayersHorizontally(){for(var e=0;e<layerVerticalArray.length;e++)layerVerticalArray[e].style.left=layerHorizontalArray[e].offsetLeft+layerHorizontalArray[e].offsetWidth-containerDiv.offsetWidth+"px"}function positionRocketAndAleContainerHorizontally(){var e=layerHorizontalSpeedArray[layerHorizontalSpeedArray.length-1],t=layerHorizontalArray[layerHorizontalArray.length-1],e=pageVerticalPosition*e-(t.offsetWidth-containerDiv.offsetWidth);aleMaxHorizontalDistance=.5*containerDiv.offsetWidth+332;let o=.5*containerDiv.offsetWidth+e;aleMaxHorizontalDistance<=o&&(o=aleMaxHorizontalDistance);var i=.5*containerDiv.offsetWidth+170;let a=.5*(containerDiv.offsetWidth-rocketDiv.offsetWidth)+e;switch(i<=a&&(a=i),layersMovement){case"vertical":rocketDiv.style.left=a+"px",aleContainerDiv.style.left=o+"px",aleContainerDiv.style.padding="0px 0px 150px 0px";break;case"not moving 1":case"not moving 2":var r=pageVerticalPosition-(pageDiv.offsetHeight-containerDiv.offsetHeight-distanceBetweenAleAndRocket);aleContainerDiv.style.left=o+r+"px",aleContainerDiv.style.padding="0px 0px 0px 0px",rocketDiv.style.left=a+"px";break;default:r=t.offsetLeft+t.offsetWidth-.5*(containerDiv.offsetWidth+rocketDiv.offsetWidth);rocketDiv.style.left=r+"px",aleContainerDiv.style.left="50%",aleContainerDiv.style.padding="0px 0px 0px 0px"}}