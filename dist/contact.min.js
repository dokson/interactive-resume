function positionContactContainer(){contactContainerDiv.style.top=layerVerticalArray[layerVerticalArray.length-1].offsetTop+"px",contactContainerDiv.style.left=layerVerticalArray[layerVerticalArray.length-1].offsetLeft+"px"}function positionFireworksContainer(){fireworksContainerDiv.style.top=layerVerticalArray[layerVerticalArray.length-1].offsetTop+"px",fireworksContainerDiv.style.left=layerVerticalArray[layerVerticalArray.length-1].offsetLeft+"px"}function positionSocialContainer(){canAnimateSocialContainer?(setSocialContainerOpacity(0),socialContainerDiv.style.top="80%"):socialContainerDiv.style.top="0px"}function animateSocialContainer(){canAnimateSocialContainer&&($(socialContainerDiv).stop().animate({top:[0,"easeOutCubic"]},1e3,function(){}),setSocialContainerOpacity(1),canAnimateSocialContainer=!1)}function setSocialContainerOpacity(e){(e=1<e?1:e)<0&&(e=0);for(var r=$(socialContainerDiv).children().length,n=0;n<r;n++)$(socialContainerDiv.children[n]).fadeTo(0,e);for(var t=$(socialContainerDiv.children[1]).children().length,n=0;n<t;n++)$(socialContainerDiv.children[1].children[n]).fadeTo(0,e)}function positionContactConfirmationContainer(){for(var e=0;e<contactConfirmationContainerArray.length;e++)contactConfirmationContainerArray[e].style.left="not moving 1"===layersMovement||"not moving 2"===layersMovement?aleContainerDiv.offsetLeft+"px":aleMaxHorizontalDistance+"px",contactConfirmationContainerArray[e].style.top=.8*containerDiv.offsetHeight-370+"px"}function hideContactConfirmationContainer(){if(isContactConfirmationContainerVisible){for(var e=0;e<contactConfirmationContainerArray.length;e++)for(var r=$(contactConfirmationContainerArray[e]).children().children().length,n=0;n<r;n++)$(contactConfirmationContainerArray[e].children[0].children[n]).fadeTo(0,0);isContactConfirmationContainerVisible=!1}}function showContactConfirmationContainer(e){for(var r=$(contactConfirmationContainerArray[e]).children().children().length,n=0;n<r;n++)$(contactConfirmationContainerArray[e].children[0].children[n]).fadeTo(0,1);isContactConfirmationContainerVisible=!0}function focusEmail(){emailAddressDiv.focus()}function focusSubject(){emailSubjectDiv.focus()}function focusMessage(){emailMessageDiv.focus()}function clearAllInputField(){emailAddressDiv.value="",emailSubjectDiv.value="",emailMessageDiv.value=""}function createFireworkSvg(){if(!("internet explorer"===browserName&&browserVersion<=8))for(var e=0;e<fireworkArray.length;e++){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("version","1.2"),r.setAttribute("baseProfile","tiny"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),fireworkSvgArray.push(r)}}function appendFireworkSvgToContainer(){if(!("internet explorer"===browserName&&browserVersion<=8))for(var e=0;e<fireworkArray.length;e++)fireworkArray[e].appendChild(fireworkSvgArray[e])}function drawManyFireworks(){"internet explorer"===browserName&&browserVersion<=8||!canDrawManyFireworks||(clearInterval(drawFireworkTimer),drawFireworkTimer=setInterval(function(){drawFirework()},1e3),canDrawManyFireworks=!1)}function drawFirework(){drawFireworkCounter>=fireworkArray.length?(drawFireworkCounter=0,clearInterval(drawFireworkTimer)):(clearInterval(drawOneLayerOfFireworkTimer),drawOneLayerOfFireworkTimer=setInterval(function(){drawOneLayerOfFirework()},40))}function drawOneLayerOfFirework(){if(fireworkLayerNumber<fireworkRowNumber){fireworkLayerNumber+=1;for(var e=0;e<fireworkColumnNumber;e++){var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",String(fireworkCenterX+Math.cos(e*fireworkOneRotationAngle)*(fireworkLayerNumber*fireworkOneRadiusDistance))),r.setAttribute("cy",String(fireworkCenterY+Math.sin(e*fireworkOneRotationAngle)*(fireworkLayerNumber*fireworkOneRadiusDistance))),r.setAttribute("r",fireworkDotRadius),r.setAttribute("fill","#ffffff"),fireworkSvgArray[drawFireworkCounter].appendChild(r)}}else fireworkLayerNumber=0,clearInterval(drawOneLayerOfFireworkTimer),makeFireworkDisappear(drawFireworkCounter),drawFireworkCounter+=1}function makeFireworkDisappear(e){$(fireworkArray[e]).fadeTo(1e3,0)}function resetFireworkSvg(){for(var e=0;e<fireworkArray.length;e++)$(fireworkSvgArray[e]).empty(),$(fireworkArray[e]).fadeTo(0,1)}function initContactButton(){"computer"===deviceName?sendEmailDiv.onclick=function(){sendEmail()}:sendEmailDiv.addEventListener("touchstart",sendEmail,!1)}function sendEmail(){hideContactConfirmationContainer(),positionContactConfirmationContainer();var e,r,n,t=$("#email-address").val(),i=$("#email-subject").val(),o=$("#email-message").val();return t.match(/^([a-z0-9._-]+@[a-z0-9._-]+\.[a-z]{2,}$)/i)?(r=e=!1,i.length<1&&(e=!1,focusSubject()),1<=i.length&&(e=!0),o.length<1&&(r=!1,focusMessage()),1<=o.length&&(r=!0),e&&r?(n={from_email:t,subject:i,message:o},setTimeout("showContactConfirmationContainer(2)",200),setTimeout(function(){send(n)},2e3)):setTimeout("showContactConfirmationContainer(1)",200)):(focusEmail(),setTimeout("showContactConfirmationContainer(0)",200)),!1}function send(e){emailjs.send("service_9u4crjr","template_hfnne2s",e).then(function(e){console.log("Email sent successfully!",e.status,e.text),hideContactConfirmationContainer(),positionContactConfirmationContainer(),setTimeout("showContactConfirmationContainer(4)",200),clearAllInputField()}).catch(function(e){console.log("Email failed to send:",e),hideContactConfirmationContainer(),positionContactConfirmationContainer(),setTimeout("showContactConfirmationContainer(3)",200)})}emailjs.init("H_cQjD2uFvh4WSAUf");var sendEmailDiv=document.getElementById("send-email");initContactButton();