function positionContactContainer(){contactContainerDiv.style.top=layerVerticalArray[layerVerticalArray.length-1].offsetTop+"px",contactContainerDiv.style.left=layerVerticalArray[layerVerticalArray.length-1].offsetLeft+"px"}function positionFireworksContainer(){fireworksContainerDiv.style.top=layerVerticalArray[layerVerticalArray.length-1].offsetTop+"px",fireworksContainerDiv.style.left=layerVerticalArray[layerVerticalArray.length-1].offsetLeft+"px"}function positionLinksContainer(){canAnimateLinksContainer?(setLinksContainerOpacity(0),linksContainerDiv.style.top="80%"):linksContainerDiv.style.top="0px"}function animateLinksContainer(){canAnimateLinksContainer&&($(linksContainerDiv).stop().animate({top:[0,"easeOutCubic"]},1e3,function(){}),setLinksContainerOpacity(1),canAnimateLinksContainer=!1)}function setLinksContainerOpacity(e){(e=1<e?1:e)<0&&(e=0);for(var n=$(linksContainerDiv).children().length,r=0;r<n;r++)$(linksContainerDiv.children[r]).fadeTo(0,e);for(var t=$(linksContainerDiv.children[1]).children().length,r=0;r<t;r++)$(linksContainerDiv.children[1].children[r]).fadeTo(0,e)}function positionContactConfirmationContainer(){for(var e="not moving 1"===layersMovement||"not moving 2"===layersMovement?aleContainerDiv.offsetLeft:aleMaxHorizontalDistance,n=0;n<contactConfirmationContainerArray.length;n++)contactConfirmationContainerArray[n].style.left=e+"px",contactConfirmationContainerArray[n].style.top=.8*containerDiv.offsetHeight-370+"px"}function toggleContactConfirmationContainer(e){for(var n=e?1:0,r=0;r<contactConfirmationContainerArray.length;r++)for(var t=contactConfirmationContainerArray[r].children[0].children,i=0;i<t.length;i++)$(t[i]).fadeTo(0,n);isContactConfirmationContainerVisible=e}function hideContactConfirmationContainer(){isContactConfirmationContainerVisible&&toggleContactConfirmationContainer(!1)}function showContactConfirmationContainer(e){for(var n=contactConfirmationContainerArray[e].children[0].children,r=0;r<n.length;r++)$(n[r]).fadeTo(0,1);isContactConfirmationContainerVisible=!0}function focusEmail(){emailAddressDiv.focus()}function focusSubject(){emailSubjectDiv.focus()}function focusMessage(){emailMessageDiv.focus()}function clearAllInputField(){emailAddressDiv.value="",emailSubjectDiv.value="",emailMessageDiv.value=""}function createFireworkSvg(){if(!("internet explorer"===browserName&&browserVersion<=8))for(var e=0;e<fireworkArray.length;e++){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("version","1.2"),n.setAttribute("baseProfile","tiny"),n.setAttribute("width","100%"),n.setAttribute("height","100%"),fireworkSvgArray.push(n)}}function appendFireworkSvgToContainer(){if(!("internet explorer"===browserName&&browserVersion<=8))for(var e=0;e<fireworkArray.length;e++)fireworkArray[e].appendChild(fireworkSvgArray[e])}function drawManyFireworks(){"internet explorer"===browserName&&browserVersion<=8||!canDrawManyFireworks||(clearInterval(drawFireworkTimer),drawFireworkTimer=setInterval(function(){drawFirework()},1e3),canDrawManyFireworks=!1)}function drawFirework(){drawFireworkCounter>=fireworkArray.length?(drawFireworkCounter=0,clearInterval(drawFireworkTimer)):(clearInterval(drawOneLayerOfFireworkTimer),drawOneLayerOfFireworkTimer=setInterval(function(){drawOneLayerOfFirework()},40))}function drawOneLayerOfFirework(){if(fireworkLayerNumber<fireworkRowNumber){fireworkLayerNumber+=1;for(var e=0;e<fireworkColumnNumber;e++){var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",String(fireworkCenterX+Math.cos(e*fireworkOneRotationAngle)*(fireworkLayerNumber*fireworkOneRadiusDistance))),n.setAttribute("cy",String(fireworkCenterY+Math.sin(e*fireworkOneRotationAngle)*(fireworkLayerNumber*fireworkOneRadiusDistance))),n.setAttribute("r",fireworkDotRadius),n.setAttribute("fill","#ffffff"),fireworkSvgArray[drawFireworkCounter].appendChild(n)}}else fireworkLayerNumber=0,clearInterval(drawOneLayerOfFireworkTimer),makeFireworkDisappear(drawFireworkCounter),drawFireworkCounter+=1}function makeFireworkDisappear(e){$(fireworkArray[e]).fadeTo(1e3,0)}function resetFireworkSvg(){for(var e=0;e<fireworkArray.length;e++)$(fireworkSvgArray[e]).empty(),$(fireworkArray[e]).fadeTo(0,1)}function initContactButton(){"computer"===deviceName?sendEmailDiv.onclick=function(){sendEmail()}:sendEmailDiv.addEventListener("touchstart",sendEmail,!1)}function sendEmail(){hideContactConfirmationContainer(),positionContactConfirmationContainer();var e,n,r,t=$("#email-address").val(),i=$("#email-subject").val(),o=$("#email-message").val();return t.match(/^([a-z0-9._-]+@[a-z0-9._-]+\.[a-z]{2,}$)/i)?(e=1<=i.length,n=1<=o.length,e||focusSubject(),n||focusMessage(),e&&n?(r={from_email:t,subject:i,message:o},setTimeout(function(){showContactConfirmationContainer(2)},200),setTimeout(function(){send(r)},2e3)):setTimeout(function(){showContactConfirmationContainer(1)},200)):(focusEmail(),setTimeout(function(){showContactConfirmationContainer(0)},200)),!1}function send(e){emailjs.send("service_9u4crjr","template_hfnne2s",e).then(function(e){console.log("Email sent successfully!",e.status,e.text),hideContactConfirmationContainer(),positionContactConfirmationContainer(),setTimeout(function(){showContactConfirmationContainer(4)},200),clearAllInputField()}).catch(function(e){console.log("Email failed to send:",e),hideContactConfirmationContainer(),positionContactConfirmationContainer(),setTimeout(function(){showContactConfirmationContainer(3)},200)})}emailjs.init("H_cQjD2uFvh4WSAUf");var sendEmailDiv=document.getElementById("send-email");initContactButton();